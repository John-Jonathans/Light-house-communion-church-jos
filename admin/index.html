<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Panel</title>
    <style>
      #auto-login-msg {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(255,255,255,0.95); z-index: 9999;
        display: flex; flex-direction: column; justify-content: center; align-items: center;
        font-family: sans-serif; text-align: center;
      }
      .hidden { display: none !important; }
      h2 { color: #166534; }
    </style>
  </head>
  <body>
    <div id="auto-login-msg" class="hidden">
        <h2>üîê Key Found!</h2>
        <p>Attempting to start engine...</p>
        <p style="font-size:12px; color:red; margin-top:20px;">(Hiding this screen in 5 seconds...)</p>
    </div>

    <script>
      const tokenMsg = localStorage.getItem("cms_auth_token");
      const overlay = document.getElementById('auto-login-msg');

      if (tokenMsg) {
        // Show overlay
        overlay.classList.remove('hidden');
        
        // Send signal
        window.postMessage(tokenMsg, "*");

        // HIDE OVERLAY after 5 seconds so we can see errors
        setTimeout(() => {
          overlay.classList.add('hidden');
        }, 5000);
      }
    </script>

    <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
  </body>
</html>

